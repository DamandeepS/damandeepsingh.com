<dom-module id="photo-blog">
    <style>
      :host {
        display: block;
      }

      .container {
        @apply(--layout-fit);
        text-align: center;
      }
      .thumbnails {
        height: 250px;
        width: 250px;
        margin: 10px;
        cursor: pointer;
        display: inline-block;
      }

      iron-image {
        width: 100%;
        height: 100%;
      }

      div.photo-title {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgba(0,0,0,0.3);
        color: #ede;
      }

      div.photo-title h4 {
        font-weight: 300;
        margin: 0;
        padding: 3px;
        text-align: center;
      }

      paper-dialog {
        height: 80%;
        max-width: 80%;
        width: 80%;
        background-color: rgba(0,0,0,0.75);
        color: #fff;
        text-align: left;
      }

      #dialogImage{
        padding: 0;
        margin: 0;
        max-width: 100%;
        max-height: 100%;

      }
    </style>
  <template>
    <div class="container">
    <iron-a11y-keys target="[[target]]" keys="left" 
    on-keys-pressed="leftPressed"></iron-a11y-keys>
    <iron-a11y-keys target="[[target]]" keys="right" 
    on-keys-pressed="rightPressed"></iron-a11y-keys>
    <iron-selector id='selector' on-iron-select='openDialog'>
    <template is='dom-repeat' items='[[photoList]]' as='item'>
      <paper-material class="thumbnails">
        <iron-image src='[[item.photoSource]]' sizing='cover'></iron-image>
        <div class="photo-title">
          <h4>[[item.photoTitle]]</h4>
        </div>
      </paper-material>
    </template>
    </iron-selector>
    <paper-dialog id='dialog' on-iron-overlay-closed='_resetSelector'>
      <iron-image id='dialogImage' sizing='contain'></iron-image>
    </paper-dialog>
    </div>
  </template>
  <script>
    Polymer({
      is: 'photo-blog',

      properties: {
        target: {
          type: Object,
          value: function() {
            return this.$.dialog;
          }
        },
        photoList: {
          type: Array,
          value: [{
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/touch/apple-touch-icon.png',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }, {
            photoSource: '../../../images/cover-pic.jpg',
            photoTitle: 'Cover Pic'
          }]
        }
      },
      openDialog: function() {
        this.$.dialogImage.src = this.photoList[parseInt(this.$.selector.selected)].photoSource || false;;
        this.$.dialog.open();
      },
      leftPressed: function() {
        if(this.$.selector.selected>0)
          this.$.selector.selected--;
          console.log(this.$.selector.selected);
      },
      rightPressed: function() {
        if(this.$.selector.selected<this.photoList.length)
          this.$.selector.selected++;
          console.log(this.$.selector.selected);
      },
      _resetSelector: function() {
        this.$.selector.selected= null;
      }
    });
  </script>
</dom-module>
